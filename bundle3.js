let qa,ra,D,Ha,Ia,Ja,ba,aa=a=>a.map((a=>-a)),t=(a,e)=>a.map(((a,t)=>a+e[t])),z=(a,e)=>a.map(((a,t)=>a-e[t])),ea=a=>{var e=ba;return a.map(((a,t)=>a*e[t]))},A=(a,e,t)=>a.map(((a,r)=>a+t*e[r])),fa=()=>{var a=[0,0,0];return D.map(((e,t)=>Math.max(e,a[t])))},ha=(a,e,t)=>a.map(((a,r)=>a+t*(e[r]-a))),ia=(a,e,t)=>(0>(a+=((e-=a)>Math.PI?e-2*Math.PI:-Math.PI>e?e+2*Math.PI:e)*t)&&(a+=2*Math.PI),a>2*Math.PI&&(a-=2*Math.PI),a),F=([a,e,t],[r,o,i])=>a*r+e*o+t*i,ja=([a,e,t],[r,o,i])=>[e*i-t*o,t*r-a*i,a*o-e*r],ka=a=>A([0,0,0],a,1/(Math.sqrt(F(a,a))||1)),pa=(a,e,t,r)=>{var o=Math.sign(e[2])||1,i=-1/(o+e[2]),n=e[0]*e[1]*i;let h=[1+o*e[0]*e[0]*i,o*n,-o*e[0]];return o=[n,o+e[1]*e[1]*i,-e[1]],i=r*F(a,h),r*=F(a,o),n=A(n=[0,0,0],e,-t*F(a,e)),n=A(n,h,i),A(n,o,r)},H=a=>(qa=Math.cos(a),ra=Math.sin(a),[1,0,0,0,0,qa,ra,0,0,-ra,qa,0,0,0,0,1]),I=a=>(qa=Math.cos(a),ra=Math.sin(a),[qa,0,ra,0,0,1,0,0,-ra,0,qa,0,0,0,0,1]),sa=a=>(qa=Math.cos(a),ra=Math.sin(a),[qa,ra,0,0,-ra,qa,0,0,0,0,1,0,0,0,0,1]),ta=a=>[a,0,0,0,0,a,0,0,0,0,a,0,0,0,0,1],ua=([a,e,t])=>[1,0,0,0,0,1,0,0,0,0,1,0,a,e,t,1],va=([a,e,t],r)=>{let o=Math.sin(r),i=1-(r=Math.cos(r));return[a*a*i+r,e*a*i+t*o,t*a*i-e*o,0,a*e*i-t*o,e*e*i+r,t*e*i+a*o,0,a*t*i+e*o,e*t*i-a*o,t*t*i+r,0,0,0,0,1]},xa=ta(1),J=(a,e)=>{let t=[];for(let r=0;16>r;++r){let o=4*(r/4|0),i=r%4;t.push(e[o]*a[i]+e[o+1]*a[i+4]+e[o+2]*a[i+8]+e[o+3]*a[i+12])}return t},ya=(a,[e,t,r])=>{let o=a[3]*e+a[7]*t+a[11]*r+a[15]||1;return[(a[0]*e+a[4]*t+a[8]*r+a[12])/o,(a[1]*e+a[5]*t+a[9]*r+a[13])/o,(a[2]*e+a[6]*t+a[10]*r+a[14])/o]},za=(a,e)=>(D=ka(ja(z(a[1].g,a[0].g),z(a[2].g,a[0].g))),{H:a,u:{j:D,w:F(D,a[0].g)},tag:e}),Aa=a=>({j:aa(a.j),w:-a.w}),Ba=(a,e,t,r,o,i)=>{let n=0,h=e.H.map((e=>(e=F(a.j,e.g)-a.w,n|=e=-1e-5>e?2:e>1e-5?1:0,e)));if(0==n&&(F(a.j,e.u.j)>0?t:r).push(e),1==n&&o.push(e),2==n&&i.push(e),3==n){t=[],r=[];for(let o=0;e.H.length>o;o++){var c=(o+1)%e.H.length,f=h[o];let i=h[c];var l=e.H[o];c=e.H[c],2!=f&&t.push(l),1!=f&&r.push(l),3==(f|i)&&(f=(a.w-F(a.j,l.g))/F(a.j,z(c.g,l.g)),l={g:ha(l.g,c.g,f),j:ka(ha(l.j,c.j,f))},t.push(l),r.push(l))}t.length>=3&&o.push(za(t,e.tag)),r.length>=3&&i.push(za(r,e.tag))}},Ca=()=>({u:0,m:0,l:0,J:[]}),L=a=>{a.J=a.J.map((a=>({H:a.H.map((a=>({g:a.g,j:aa(a.j)}))).reverse(),u:Aa(a.u),tag:a.tag}))),a.u=Aa(a.u),a.m&&L(a.m),a.l&&L(a.l);let e=a.m;a.m=a.l,a.l=e},Da=(a,e)=>{if(!a.u)return[...a.J];let t=[],r=[];return e.map((e=>Ba(a.u,e,t,r,t,r))),a.m&&(t=Da(a.m,t)),r=a.l?Da(a.l,r):[],[...t,...r]},N=(a,e)=>{a.J=Da(e,a.J),a.m&&N(a.m,e),a.l&&N(a.l,e)},Ea=a=>[...a.J,...a.m?Ea(a.m):[],...a.l?Ea(a.l):[]],O=(a,e)=>{if(e.length){a.u||(a.u=e[0].u);let t=[],r=[];e.map((e=>Ba(a.u,e,a.J,a.J,t,r))),t.length&&(a.m||(a.m=Ca()),O(a.m,t)),r.length&&(a.l||(a.l=Ca()),O(a.l,r))}},Q=(a,e)=>{let t=Ca(),r=Ca();return O(t,a.B),O(r,e.B),N(t,r),N(r,t),L(r),N(r,t),L(r),O(t,Ea(r)),{B:Ea(t),F:`__d(${a.F},${e.F})`}},R=(a,e)=>{let t=Ca(),r=Ca();return O(t,a.B),O(r,e.B),L(t),N(t,r),N(r,t),L(r),N(r,t),L(r),O(t,Ea(r)),L(t),{B:Ea(t),F:`__e(${a.F},__f(${e.F}))`}},S=(a,e,r,o)=>{o*=Math.PI/2,r=[Math.cos(r*=Math.PI/2)*Math.sin(o),Math.cos(o),Math.sin(r)*Math.sin(o)],Ia.push({g:t(Ja,ya(Ha,A(ea(e),r,a))),j:ya(Ha,r)})},U=(a,e,t,r,o,i,n,h,c)=>{let f=[];Ja=[e,t,r],ba=[1,1,1],Ha=J(J(I(h/180*Math.PI),H(c/180*Math.PI)),sa(0));var l=Math.atan((i-n)/o);let m=2*l/Math.PI,b=i*Math.sin(l),u=i*Math.cos(l),d=o+n*Math.sin(l);l=n*Math.cos(l);for(let e=0;16>e;++e){let t=e/4,r=(e+1)/4;Ia=[],S(u,[0,b,0],t,1),S(l,[0,d,0],t,1),S(l,[0,d,0],r,1),S(u,[0,b,0],r,1),f.push(za(Ia,a));for(var s=0;8>s;++s){var M=s/4,g=(s+1)/4,v=g>1-m;if(v&&(g=1-m),Ia=[],S(n,[0,o,0],t,M),M>.01&&S(n,[0,o,0],r,M),S(n,[0,o,0],r,g),S(n,[0,o,0],t,g),f.push(za(Ia,a)),v)break}for(s=8;s>0&&(g=s/4,(v=1-m>(M=(s-1)/4))&&(M=1-m),Ia=[],S(i,[0,0,0],t,M),S(i,[0,0,0],r,M),1.99>g&&S(i,[0,0,0],r,g),S(i,[0,0,0],t,g),f.push(za(Ia,a)),!v);--s);}return{B:f,F:`__c(${a},__a,[${e},${t},${r}],${o},${i},${n},${h},${c},0)`}},V=(a,e,r,o,i,n,h,c,f,l,m)=>{let b=Math.max(4,Math.round(m/100)),u=[];Ha=J(J(I(c/180*Math.PI),H(f/180*Math.PI)),sa(l/180*Math.PI)),Ja=[e,r,o],ba=[-i,-n,-h];let d=(e,t,r,o,i,n,h,c)=>{r=[...r].map((a=>2*a-1)),o=[...o].map((a=>2*a-1)),Ia=[],S(m,r,e*i+n,e*h+c),S(m,o,e*i+n,e*h+c),S(m,o,t*i+n,t*h+c),S(m,r,t*i+n,t*h+c),u.push(za(Ia,a))};if(m>0)for(let e=0;b>e;++e)for(let t=0;b>t;++t)for(let r=0;8>r;++r){let o=e/b+r%4,i=(e+1)/b+r%4,n=t/b+(r/4|0),h=(t+1)/b+(r/4|0),c=[2*(!!(1&r)^!!(2&r))-1,2*!!(4&r)-1,2*!!(2&r)-1];Ia=[],S(m,c,o,n),n>.01&&S(m,c,i,n),1.99>h&&S(m,c,i,h),S(m,c,o,h),u.push(za(Ia,a)),r||t||(d(o,i,'011','010',0,0,1,1),d(o,i,'110','111',0,2,1,1),d(o,i,'001','000',0,0,1,0),d(o,i,'100','101',0,2,1,0),d(o,i,'010','110',0,1,1,1),d(o,i,'111','011',0,3,1,1),d(o,i,'000','100',0,1,1,0),d(o,i,'101','001',0,3,1,0),d(o,i,'010','000',1,0,0,1),d(o,i,'110','100',1,1,0,1),d(o,i,'111','101',1,2,0,1),d(o,i,'011','001',1,3,0,1))}return i&&n&&h&&[[[0,4,6,2],[-1,0,0]],[[1,3,7,5],[1,0,0]],[[0,1,5,4],[0,-1,0]],[[2,6,7,3],[0,1,0]],[[0,2,3,1],[0,0,-1]],[[4,5,7,6],[0,0,1]]].map((c=>u.push(za(c[0].map((a=>(D=A([i*(2*!!(1&a)-1),n*(2*!!(2&a)-1),h*(2*!!(4&a)-1)],c[1],m),{g:t([e,r,o],ya(Ha,D)),j:ya(Ha,c[1])}))),a)))),{B:u,F:`__b(${a},__a,[${e},${r},${o}],[${i},${n},${h}],${c},${f},${l},${m})`}},Ka=(a,e,t,r,o,i,n,h)=>(D=z(ya(J(J(sa(-n/180*Math.PI),H(-i/180*Math.PI)),I(-o/180*Math.PI)),z(e,t)).map(Math.abs),r),t=(e=Math).sqrt,r=fa(),[a,t.call(e,F(r,r))+Math.min(Math.max(...D),0)-h]),La=(a,e,t,r,o,i,n,h,c)=>(D=ya(J(J(sa(-c/180*Math.PI),H(-h/180*Math.PI)),I(-n/180*Math.PI)),z(e,t)),n=Math.sqrt(1-(t=(o-i)/r)*t),e=[Math.sqrt(F(e=[D[0],D[2],0],e)),D[1],0],0>(h=F(e,[-t,n,0]))?i=Math.sqrt(F(e,e))-o:h>n*r?(t=(o=Math).sqrt,r=z(e,[0,r,0]),i=t.call(o,F(r,r))-i):i=F(e,[n,t,0])-o,[a,i]),Ma=(a,e)=>a[1]>e[1]?e:a,Na=(a,e)=>a[1]>e[1]?a:e,Oa=a=>[a[0],-a[1]],W=a=>{let e=[],t=[],r=[],o=[],i=Function('__a,__b,__c,__d,__e,__f','return '+a.F);a.B.map((a=>{let i=e.length/3;a.H.map((o=>(e.push(...o.g),t.push(...o.j),r.push(a.tag))));for(let e=2;a.H.length>e;e++)o.push(i,i+e-1,i+e)})),a=G.createBuffer(),G.bindBuffer(34963,a),G.bufferData(34963,new Uint16Array(o),35044);let n=G.createBuffer();G.bindBuffer(34962,n),G.bufferData(34962,new Float32Array(e),35044);let h=G.createBuffer();G.bindBuffer(34962,h),G.bufferData(34962,new Float32Array(t),35044);let c=G.createBuffer();return G.bindBuffer(34962,c),G.bufferData(34962,new Float32Array(r),35044),[{X:a,Y:o.length,ea:n,$:h,da:c},a=>i(a,Ka,La,Ma,Na,Oa)]},Sa=new Worker(URL.createObjectURL(new Blob([`let a=(${''+(()=>{var a=new function(){function a(a){return Math.sin(6.283184*a)}var e,t,r,o,i,n=[a,a=>.5>a%1?1:-1,a=>a%1*2-1,a=>2>(a=a%1*4)?a-1:3-a];this.Z=()=>{var a={ca:[{h:[1,15,164,0,1,127,128,15,0,36,0,28,87,0,0,0,0,64,1,1,2,38,128,1,3,255,2,212,8],p:[1,1,2,2,3,1,3,1,1,1,2,2,3,1,3,1,1,1,2,2,3,1,3,1,1],c:[{n:[135,147,142,149,147,140],f:[]},{n:[130,147,152,149,144,154],f:[]},{n:[135,147,142,149,147,140,,,,,,,161,156,151,135,,,,,,,,,138,150,145,157,131,143,135,147],f:[]}]},{h:[0,105,128,0,0,255,128,33,0,7,7,20,39,0,0,0,0,0,0,0,2,41,0,0,8,0,6,0,0],p:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],c:[{n:[,,,99,,,99,,,,,,,,,111,,,,99,,,99],f:[]}]},{h:[1,55,128,0,1,81,128,0,0,0,52,6,0,0,0,0,0,243,10,1,2,135,0,0,3,147,6,230,4],p:[,,,,,,2,,,,1,,,,2,,3,4,1,5,6,7,2,8,3,4,1,5,6,7,2,8],c:[{n:[137],f:[]},{n:[,,135],f:[]},{n:[159],f:[]},{n:[157],f:[]},{n:[152],f:[]},{n:[154],f:[]},{n:[149],f:[]},{n:[147],f:[]}]},{h:[1,100,128,0,1,201,128,34,0,0,5,6,58,0,0,0,0,195,6,1,2,135,0,0,9,147,6,0,1],p:[,,,,,,,,1,1,3,3,2,3,2,3,1,1,3,3,2,3,2,3,1,1,1,1],c:[{n:[111,,,111,,,111,,106,,,,,,,,104,,,104,,,104],f:[]},{n:[111,,,111,,,111,,106,,,,,,,,104,,,104,,,104,,109,,,109,,,109],f:[]},{n:[111,,,111,,,111,,106,,,,,,,,104,,,104,,,104,,109,,109,,109,,109],f:[]}]},{h:[0,255,116,64,0,255,116,0,64,0,4,6,35,0,0,0,0,0,0,0,2,14,0,19,32,0,0,93,1],p:[,,,,,,,,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,3],c:[{n:[,,147,,,,,,,,,,147,,,,147,,,,,,,,147,,,,,,,,,,,,,,,,123,,,123],f:[]},{n:[147,,,147,,,,,,,,,147,,,,147,,,,,,,,147,,,,,,,,,,,,,,,,123,,,123],f:[]},{n:[147],f:[]}]},{h:[1,11,128,0,1,111,128,25,0,0,72,6,115,0,0,0,0,53,6,1,2,135,0,0,3,255,6,168,9],p:[,,,,,,,,1,2,3,4,5,6,7,8,1,2,3,4,5,6,7,8,1,2,3,4,5,6,7,8],c:[{n:[147,138,145,150,159,149,142,161],f:[]},{n:[,,,,,,,,140,,159,147,,149,,154,,,,161],f:[]},{n:[,,,,,,,145,,150,,,149,,,147,,143,,,,154,,,142],f:[]},{n:[,,,,,,145,,,149,,,142,,,138,,,,,137,,,135,,,142],f:[]},{n:[,,,,,,,,,,,150,142,145,,,,,,,,,,,,,,152,145],f:[]},{n:[,,,,,,,,,,,,135,150,142,159],f:[]},{n:[,,,,149,,154,145,,,,,,,,,,,,,138,,143],f:[]},{n:[,,,,138,147,,,,143,,,149,,142,,150,154,145,,,,154,159,149],f:[]}]},{h:[3,0,128,0,3,68,128,0,64,218,4,4,40,0,0,0,1,55,4,1,2,67,115,124,190,67,6,39,1],p:[,,,,,,,,,,,,1,1,1,1,1,1,1,1,1,1,1,1],c:[{n:[,,,140,,,,,,,,,147,,,,,140,,140,,,,,,,,,147],f:[]}]}],T:6615,S:32,V:31,aa:7};e=a,r=0,o=a.T*a.S*((t=a.V)+1)*2,i=new Int32Array(o)},this.W=()=>{var h,c,f,l,m,b,u=new Int32Array(o),d=e.ca[r],s=e.T,M=e.S,g=0,v=0,p=!1,x=[];for(c=0;t>=c;++c){var A=d.p[c];for(f=0;M>f;++f){(m=A?d.c[A-1].f[f]:0)&&(d.h[m-1]=d.c[A-1].f[f+M]||0,17>m&&(x=[]));var I=n[d.h[16]],C=d.h[17]/512,w=2**(d.h[18]-9)/s,y=d.h[19],L=d.h[20],P=135.82764118168*d.h[21]/44100,V=1-d.h[22]/255,R=1e-5*d.h[23],D=d.h[24]/32,S=d.h[25]/512,F=6.283184*2**(d.h[26]-9)/s,U=d.h[27]/255,B=d.h[28]*s&-2;for(m=(c*M+f)*s,l=0;4>l;++l)if(h=A?d.c[A-1].n[f+l*M]:0){if(!x[h]){var H,z,J=x,O=h,T=b=void 0,$=d,E=h,N=n[$.h[0]],W=$.h[1],_=$.h[3]/32,Z=n[$.h[4]],Y=$.h[5],k=$.h[8]/32,Q=$.h[9],j=$.h[10]*$.h[10]*4,q=$.h[11]*$.h[11]*4,X=$.h[12]*$.h[12]*4,K=1/X,aa=-$.h[13]/16,ea=$.h[14],ta=s*2**(2-$.h[15]),ra=new Int32Array(j+q+X),oa=0,ia=0;for(H=z=0;j+q+X>z;z++,H++){H>=0&&(H-=ta,T=.003959503758*2**((E+(15&(ea=ea>>8|(255&ea)<<4))+$.h[2]-128-128)/12),b=.003959503758*2**((E+(15&ea)+$.h[6]-128-128)/12)*(1+8e-4*$.h[7]));var na=1;j>z?na=z/j:z>=j+q&&(na=(1-(na=(z-j-q)*K))*3**(aa*na));var ha=N(oa+=T*na**_)*W;ha+=Z(ia+=b*na**k)*Y,Q&&(ha+=(2*Math.random()-1)*Q),ra[z]=80*ha*na|0}J[O]=ra}for(O=x[h],h=0,J=2*m;O.length>h;h++,J+=2)u[J]+=O[h]}for(h=0;s>h;h++)(J=u[l=2*(m+h)])||p?(p=P,y&&(p*=I(w*l)*C+.5),v+=(p=1.5*Math.sin(p))*(J=V*(J-v)-(g+=p*v)),J=3==L?v:1==L?J:g,R&&(J=1>(J*=R)?J>-1?a(.25*J):-1:1,J/=R),p=(J*=D)*J>1e-5,b=J*(1-(O=Math.sin(F*l)*S+.5)),J*=O):b=0,l>=B&&(b+=u[l-B+1]*U,J+=u[l-B]*U),u[l]=0|b,u[l+1]=0|J,i[l]+=0|b,i[l+1]+=0|J}}return++r/e.aa},this.U=()=>{var a=44+2*o-8,e=a-36,t=new Uint8Array(44+2*o);for(t.set([82,73,70,70,255&a,a>>8&255,a>>16&255,a>>24&255,87,65,86,69,102,109,116,32,16,0,0,0,1,0,2,0,68,172,0,0,16,177,2,0,4,0,16,0,100,97,116,97,255&e,e>>8&255,e>>16&255,e>>24&255]),a=0,e=44;o>a;++a){var r=i[a];t[e++]=255&(r=-32767>r?-32767:r>32767?32767:r),t[e++]=r>>8&255}return t},this.getData=(a,e)=>{for(var t=2*Math.floor(44100*a),r=Array(e),o=0;2*e>o;o+=1){var n=t+o;r[o]=a>0&&i.length>n?i[n]/32768:0}return r}};a.Z();var e=setInterval((()=>{if(a.W()>=1){clearInterval(e);var t=a.U();self.postMessage(t,t.buffer)}}),10)})})();self.postMessage(a,[a.buffer])`]))),Ta=new Promise((a=>{Sa.onmessage=e=>a(e.data)})),Ua=!1,Va=()=>{Ua||(Ua=!0,Ta.then((a=>{var e=document.createElement('audio');e.src=URL.createObjectURL(new Blob([a],{type:'audio/wav'})),e.volume=.8,e.loop=!0,e.play()})))},Wa=()=>({C:0,D:0,s:{}}),X=Wa();var Xa;let Ya=0,Za=0;document.onmousemove=a=>{let e=a.movementX;a=a.movementY,(1e4>e*e||0>e*Ya)&&(1e4>a*a||0>a*Za)&&(X.C+=Ya=e,X.D+=Za=a)},document.onmousedown=a=>{document.pointerLockElement!==CC?(Xa=1,Va(),CC.requestPointerLock()):X.s[a.button]=1},document.onmouseup=a=>{X.s[a.button]=0},document.onkeydown=a=>(X.s[a.code[3]]=1,!1),document.onkeyup=a=>{X.s[a.code[3]]=0};let $a=(a,e)=>{for(let t in e.s)a.s[t]|=e.s[t];a.C+=e.C,a.D+=e.D},ab=W(V(0,0,0,0,1,1,1,0,0,0,0))[0],bb=W(V(3,0,0,0,0,0,0,0,0,0,50))[0],[hb]=W(R(R(Q(R(R(R(U(2,400,0,0,800,80,80,90,90),V(2,0,0,0,60,200,200,0,0,0,0)),V(2,284,0,0,208,200,200,0,0,0,0)),V(2,-284,0,0,208,200,200,0,0,0,0)),U(4,0,0,0,160,76,48,0,-90)),V(4,0,0,-360,200,200,200,0,0,0,0)),U(5,0,0,0,160,40,40,0,-90))),ib=R(R(R(R(R(R(R(R(R(R(R(R(R(Q(Q(Q(Q(R(V(6,0,0,0,130,100,130,0,0,0,0),V(6,0,110,0,100,25,100,0,0,0,0)),U(6,100,-119,100,400,50,50,0,0)),U(6,100,-120,-100,400,50,50,0,0)),U(6,-100,-120,-100,400,50,50,0,0)),U(6,-100,-120,100,400,50,50,0,0)),V(6,0,-150,0,200,100,200,0,0,0,0)),R(U(4,100,-120,100,340,40,40,0,0),V(4,100,-50,100,50,170,50,0,0,0,0))),R(U(4,100,0,-100,340,40,40,0,0),V(4,100,-50,-100,50,170,50,0,0,0,0))),R(U(4,-100,-120,-100,340,40,40,0,0),V(4,-100,-50,-100,50,170,50,0,0,0,0))),R(U(4,-100,-120,100,340,40,40,0,0),V(4,-100,-50,100,50,170,50,0,0,0,0))),V(6,0,250,0,200,100,200,0,0,0,0)),V(5,0,-75,0,1,50,200,0,0,0,30)),V(5,0,-75,0,1,50,200,90,0,0,30)),V(5,0,-30,0,100,100,100,0,0,0,0)),V(4,0,150,100,200,20,10,0,0,0,0)),V(4,0,150,-100,200,20,10,0,0,0,0)),V(4,100,150,0,10,20,200,0,0,0,0)),V(4,-100,150,0,10,20,200,0,0,0,0)),[jb]=W(ib),kb=[,,,,,,,,],lb=0;for(let a=-100;150>a;a+=200)for(let e=-50;200>e;e+=200)for(let t=-100;150>t;t+=200){var mb,nb=V(1,a,e,t,80,80,80,360*Math.random(),360*Math.random(),360*Math.random(),20);let r=Ca(),o=Ca();O(r,ib.B),O(o,nb.B),L(r),N(o,r),L(o),N(r,o),N(o,r),O(r,Ea(o)),L(r),mb={B:Ea(r),F:''};let i=W(mb);kb[lb++]=i[0]}let qb,rb,sb,ob=[()=>[W(R(V(0,0,-1283,0,2e4,1500,2e4,0,0,0,0),V(0,0,1200,0,200,1e3,1e3,0,0,0,200))),[[0,30,1e3]]],()=>[W(Q(R(V(0,0,-891,1498,500,1e3,2e3,0,0,0,0),V(1,0,500,317,150,300,900,0,0,0,200)),V(2,0,-461,3875,450,1e3,500,0,0,0,0))),[[0,30,1e3],[0,140,3e3]]],()=>[W(Q(Q(Q(R(V(0,0,-903,1498,1026,1e3,2e3,0,0,0,0),V(1,0,500,317,150,300,900,0,0,0,200)),V(2,950,-461,2375,50,1e3,1e3,0,0,0,0)),V(2,-950,-461,2375,50,1e3,1e3,0,0,0,0)),V(2,0,-461,3342,50,1e3,1e3,90,0,0,0))),[[500,140,3e3],[-500,140,3e3],[0,140,3e3]]],()=>[W(Q(Q(Q(V(0,0,-1e3,598,300,1e3,915,0,0,0,0),V(0,-715,-1e3,1213,300,1e3,584,90,0,0,0)),V(0,-1413,-1e3,598,300,1e3,915,0,0,0,0)),V(2,-1684,-238,1406,382,360,271,48,0,0,0))),[[0,38,1213],[-1415,38,1213],[-1415,38,0]]],()=>[W(Q(Q(Q(Q(V(0,0,-1e3,1500,1026,1e3,2e3,0,0,0,0),V(1,0,85,978,328,360,494,0,0,0,0)),V(1,0,85,1787,328,1154,494,0,0,0,0)),V(1,0,799,-66,328,20,494,0,0,0,0)),V(1,0,1185,-348,328,385,212,0,0,0,0))),[[0,950,500],[0,600,500],[0,1250,500]]],()=>[W(R(R(Q(Q(R(V(0,0,-903,336,507,1e3,497,0,0,0,0),V(1,0,500,-295,150,300,900,0,0,0,200)),V(2,0,-550,1266,330,100,652,0,0,0,0)),V(0,0,-903,2147,507,1e3,497,0,0,0,0)),V(1,0,500,2762,150,300,900,0,0,0,200)),V(5,0,-200,3504,1,1,900,0,0,0,130))),[[0,-309,1248],[0,-275,2584]]],()=>[W(R(Q(R(V(0,37,-903,576,535,1e3,906,0,0,0,0),V(1,0,463,-411,150,300,900,0,0,0,200)),V(2,-488,92,576,39,1130,1081,0,0,0,0)),U(2,-264,476,1036,500,200,200,90,90))),[[0,320,830],[0,462,1030],[-1e3,462,1030]]],()=>[W(R(V(0,0,-800,1100,1026,1e3,1451,0,0,0,0),V(1,0,521,-230,1326,360,1540,0,0,0,200))),[[-400,450,1500],[0,500,1500],[400,450,1500]]],()=>[W(Q(R(V(1,0,201,1371,1376,2029,1008,0,0,0,0),V(1,0,0,579,1,1,1,0,0,0,400)),V(2,0,-50,0,50,50,50,0,0,0,0))),[[230,201,446],[-230,201,446],[210,-253,446],[-210,-253,446]]]],pb=ob.length-1,tb=[2,2,3,3,3,3,3,3,3],ub='SMASH THE CASTLE;SMASH ALL THE CASTLES;RE-USE THE CANNON;USE THE CANNON TO SLOW DOWN;SHOOT INTO THE AIR;MIND THE GAP;BLAST THROUGH THE WALL;USE THE RAMP;RIDE THE CURVE'.split(';'),vb=a=>{for(let r,o,i,n=0,h=a;50>n;++n){[o,r]=sb(h);var e=h;if(i=ka([sb(t(e,[.001,0,0]))[1]-sb(z(e,[.001,0,0]))[1],sb(t(e,[0,.001,0]))[1]-sb(z(e,[0,.001,0]))[1],sb(t(e,[0,0,.001]))[1]-sb(z(e,[0,0,.001]))[1]]),.001>r)return r=z(a,h),[h,.001>F(r,r)?i:ka(r),Math.sqrt(F(r,r)),o];h=A(h,i,-r)}},wb=new(window.AudioContext||webkitAudioContext),xb=a=>{let e=wb.createBuffer(1,a.length,44100),t=wb.createBufferSource();e.getChannelData(0).set(a),t.buffer=e,t.connect(wb.destination),t.start()},yb=(a=1,e=.05,t=220,r=0,o=0,i=.1,n=0,h=1,c=0,f=0,l=0,m=0,b=0,u=0,d=0,s=0,M=0,g=1,v=0,p=0)=>{let x=2*Math.PI,A=c*=500*x/44100/44100;e=t*=(1+2*e*Math.random()-e)*x/44100;let I,C,w=[],y=0,L=0,P=0,V=1,R=0,D=0,S=0;for(f*=500*x/44100**3,d*=x/44100,l*=x/44100,m*=44100,b=44100*b|0,C=(r=44100*r+9)+(v*=44100)+(o*=44100)+(i*=44100)+(M*=44100)|0;C>P;w[P++]=S)++D%(100*s|0)||(S=n?n>1?n>2?n>3?Math.sin((y%x)**3):Math.max(Math.min(Math.tan(y),1),-1):1-(2*y/x%2+2)%2:1-4*Math.abs(Math.round(y/x)-y/x):Math.sin(y),S=(b?1-p+p*Math.sin(x*P/b):1)*(S>0?1:-1)*Math.abs(S)**h*a*.3*(r>P?P/r:r+v>P?1-(P-r)/v*(1-g):r+v+o>P?g:C-M>P?(C-P-M)/i*g:0),S=M?S/2+(M>P?0:(C-M>P?1:(C-P)/M)*w[P-M|0]/2):S),I=(t+=c+=f)*Math.cos(d*L++),y+=I-I*u*(1-1e9*(Math.sin(P)+1)%2),V&&++V>m&&(t+=l,e+=l,V=0),!b||++R%b||(t=e,c=A,V=V||1);return w},zb=yb(...[1.27,,478,.02,.02,.06,1,2.75,,,,,,.9,45,.5,,.59,,.26]),Ab=yb(...[1.37,,827,.02,.01,.32,4,4.22,,.5,,,,1.7,,.6,,.47]),Bb=yb(...[2,.1,185,.03,,.61,4,4,,,,,,1,,1,.5,.8,.1,.1]),Cb=yb(...[2.11,0,97.99886,.08,.7,.34,,1.92,-.5,10,50,.02,.12,,,.1,.06,.17,.01,.66]),Db=yb(...[2.11,0,261.6256,.08,.76,.35,,1.92,,,-50,-.01,.2,,,.1,.06,.27,.09,.2]),Lb=()=>({mode:0,N:0,P:0,v:Math.PI,pitch:0,g:[0,10,0],i:[0,0,0],L:0,O:[0,0,0],K:100,A:tb[0],o:[],I:0,level:0,M:0}),Mb=(a,e,t)=>({mode:e.mode,N:e.N,P:e.P,v:e.v,pitch:e.pitch,g:ha(a.g,e.g,t),i:e.i,L:e.L,O:e.O,K:(a=a.K)+t*(e.K-a),A:e.A,o:e.o,I:e.I,level:e.level,M:e.M}),Nb=!0,Ob=[,,,,,,,].fill(0),Pb=a=>{a=a();let e=new Uint8Array(1048576);for(let t=0;64>t;++t)for(let r=0;64>r;++r)for(let o=0;64>o;++o)a(t/64,r/64,o/64,4*(t+o%8*64+512*(r+64*Math.floor(o/8))),e);return e},Qb=(a,e)=>{let t=new Worker(URL.createObjectURL(new Blob([`let a=(${''+Pb})(${''+e});self.postMessage(a,[a.buffer])`])));new Promise((a=>{t.onmessage=e=>a(e.data)})).then((e=>{let t=G.createTexture();G.bindTexture(3553,t),G.texImage2D(3553,0,6408,512,512,0,6408,5121,e),G.texParameteri(3553,10241,9728),G.texParameteri(3553,10240,9728),G.texParameteri(3553,10242,10497),G.texParameteri(3553,10243,10497),Ob[a]=t}))},Rb=new Uint8Array(1048576);for(let a=0;Rb.length>a;++a)Rb[a]=255;let Sb=G.createTexture();G.bindTexture(3553,Sb),G.texImage2D(3553,0,6408,512,512,0,6408,5121,Rb),G.texParameteri(3553,10241,9728),G.texParameteri(3553,10240,9728),G.texParameteri(3553,10242,10497),G.texParameteri(3553,10243,10497),Qb(0,(()=>(a,e,t,r,o)=>{a=.6-.1*Math.pow(Math.random(),4)+.1*Math.pow(Math.random(),4),o[r+0]=76.5,o[r+1]=255*a,o[r+2]=63.75*a})),Qb(1,(()=>{let a=Array(40).fill(void 0).map((()=>[Math.random(),Math.random(),Math.random()]));return(e,t,r,o,i)=>{let n=1/0,h=1/0;for(let[o,i,m]of a){var c=e,f=t,l=r;let a=Math.hypot(c=Math.min(c=Math.abs(c-o),1-c),f=Math.min(f=Math.abs(f-i),1-f),l=Math.min(l=Math.abs(l-m),1-l));n>a?(h=n,n=a):h>a&&(h=a)}e=.04>(e=Math.abs(n-h))?.3+3*e:.4+.6*e,e-=.1*e*Math.pow(Math.random(),8),e+=.1*e*Math.pow(Math.random(),8),i[o+0]=230*e,i[o+1]=200*e,i[o+2]=255*e}})),Qb(2,(()=>{let a=a=>.25*(Math.sin(10*a)+.5*Math.sin(17*a)+.25*Math.sin(21*a)+.25*Math.sin(23*a)+Math.sin(29*a)+.5*Math.sin(31*a)+.25*Math.sin(37*a)+.25*Math.sin(51*a));return(e,t,r,o,i)=>{let n=Math.pow(Math.random(),8);e=.075*(a(5*e)+a(5*r)+a(.2*t))+.75,i[o+0]=255*(e-=.05*n),i[o+1]=220*e,i[o+2]=200*e}})),Qb(3,(()=>(a,e,t,r,o)=>{let i=Math.pow(Math.random(),4),n=Math.pow(Math.random(),4);a>.5&&(a=1-a),e>.5&&(e=1-e),t>.5&&(t=1-t);let h=.05>Math.hypot(a,t);t=.05>Math.hypot(e,t),a=.05>Math.hypot(a,e)||h||t?.5:1,o[r+0]=100*a*(.6-.1*i+.1*n),o[r+1]=150*a*(.6-.1*i+.1*n),o[r+2]=180*a*(.6-.1*i+.1*n)})),Qb(4,(()=>(a,e,t,r,o)=>{a=Math.pow(Math.random(),4),e=Math.pow(Math.random(),4),o[r+0]=100*(.6-.1*a+.1*e),o[r+1]=150*(.6-.1*a+.1*e),o[r+2]=180*(.6-.1*a+.1*e)})),Qb(5,(()=>(a,e,t,r,o)=>{a=Math.pow(Math.random(),4),e=Math.pow(Math.random(),4),o[r+0]=50*(.6-.1*a+.1*e),o[r+1]=75*(.6-.1*a+.1*e),o[r+2]=90*(.6-.1*a+.1*e)})),Qb(6,(()=>(a,e,t,r,o)=>{a+=(2*Math.random()-1)/64,e+=(2*Math.random()-1)/64,a=4*(a+.03)%1,t=4*((t+=(2*Math.random()-1)/64)+.03)%1,e=8*e%1;let i=.9;i-=.1*i*Math.pow(Math.random(),8),i+=.1*i*Math.pow(Math.random(),8),a>.05&&.95>a&&t>.05&&.95>t&&e>.1&&.9>e?(o[r+0]=80*i,o[r+1]=90*i,o[r+2]=100*i):(o[r+0]=80*i,o[r+1]=70*i,o[r+2]=60*i)}));let Tb=a=>{G.uniform1iv(G.getUniformLocation(a,'a4'),Ob.map(((a,e)=>(G.activeTexture(33984+e),G.bindTexture(3553,a||Sb),e))))},Y=C2.getContext('2d'),Ub=G.createTexture(),Vb=0;G.bindTexture(3553,Ub),G.texParameteri(3553,10241,9728),G.texParameteri(3553,10240,9728),G.texParameteri(3553,10242,33071),G.texParameteri(3553,10243,33071);let Wb=G.createBuffer();G.bindBuffer(34962,Wb),G.bufferData(34962,Float32Array.of(-1,-1,1,-1,-1,1,1,1,-1,1,1,-1),35044),G.enable(2929),G.enable(3042),G.blendFunc(770,771),G.depthFunc(515);let Xb=G.createBuffer();G.bindBuffer(34963,Xb),G.bufferData(34963,new Uint16Array(Array(300).fill(0).map(((a,e)=>e))),35044);let Yb=G.createBuffer();G.bindBuffer(34962,Yb),G.bufferData(34962,new Float32Array(900),35048);let yc,Ac,Zb=(a,e)=>{let t=G.createShader(35633),r=G.createShader(35632),o=G.createProgram();return G.shaderSource(t,a),G.compileShader(t),G.shaderSource(r,e),G.compileShader(r),G.attachShader(o,t),G.attachShader(o,r),G.linkProgram(o),o},Z=Zb('attribute vec3 a1,ah;attribute float a9;uniform mat4 a2,a3;varying vec3 af,a6;varying float a8;void main(){af=a1,a6=normalize((a3*vec4(ah,0)).xyz),a8=a9,gl_Position=a2*a3*vec4(a1,1);}','precision highp float;varying vec3 af,a6;varying float a8;uniform sampler2D a4[7];uniform vec3 ag;void main(){vec3 v=floor(fract(af*.005+.01)*64.);vec2 a=(v.xy+vec2(mod(v.z,8.),floor(v.z/8.))*64.+vec2(.5))/512.;vec4 i;int t=int(a8+.5);if(t==0)i=texture2D(a4[0],a);if(t==1)i=texture2D(a4[1],a);if(t==2)i=texture2D(a4[2],a);if(t==3)i=texture2D(a4[3],a);if(t==4)i=texture2D(a4[4],a);if(t==5)i=texture2D(a4[5],a);if(t==6)i=texture2D(a4[6],a);float r=dot(a6,normalize(vec3(5,1,5)));vec3 c=mix(mix(vec3(.9,.42,.44)+.1,vec3(1),.3),mix(vec3(1,.86,.39),vec3(1),.3),.5+.5*r);float n=.75+.25*max(0.,r),f=length(af.xz-ag.xz);if(f<20.&&af.y<ag.y)n*=1.-clamp(.5-.1*(f-5.),0.,.4);gl_FragColor=vec4(i.xyz*c*n,1);}'),$b=Zb('attribute vec3 a1,ah;attribute float a9;uniform mat4 aa;varying vec3 af;void main(){af=a1,gl_Position=(aa*vec4(a1,1)).xyww;}','precision highp float;varying vec3 af;void main(){vec3 m=normalize(af);float l=dot(normalize(vec3(5,1,5)),m),g=max(0.,500.*l-495.);vec3 x=mix(vec3(.13,.16,.31),vec3(.9,.42,.44),1.-2.*m.y),u=mix(mix(x,vec3(1,.86,.39),clamp(exp(l-1.)-.5*m.y,0.,1.)),vec3(1),g);gl_FragColor=vec4(u,1);}'),ac=Zb('attribute vec3 a1;uniform mat4 a2,a3;void main(){gl_Position=a2*a3*vec4(a1,1);}','precision highp float;uniform vec3 a0;void main(){gl_FragColor=vec4(a0,.25);}'),bc=Zb('attribute vec2 a1;void main(){gl_Position=vec4(a1,0,1);}','precision highp float;uniform sampler2D a4;uniform vec4 a5;void main(){vec2 a=gl_FragCoord.xy/a5.xy;vec4 i=texture2D(a4,vec2(a.x,1.-a.y));gl_FragColor=mix(vec4(mix(vec3(0),i.xyz,a5.w),1),i,a5.z);}'),cc=(a,e)=>{G.bindBuffer(34962,a.ea);let t=G.getAttribLocation(e,'a1');G.enableVertexAttribArray(t),G.vertexAttribPointer(t,3,5126,!1,0,0),G.bindBuffer(34962,a.$),t=G.getAttribLocation(e,'ah'),t>=0&&(G.enableVertexAttribArray(t),G.vertexAttribPointer(t,3,5126,!1,0,0),G.bindBuffer(34962,a.da),t=G.getAttribLocation(e,'a9'),G.enableVertexAttribArray(t),G.vertexAttribPointer(t,1,5126,!1,0,0)),G.bindBuffer(34963,a.X),G.drawElements(4,a.Y,5123,0)},dc=xa,ec=0,fc=0,gc=0,hc=0,ic=0,jc=[0,0,0],kc=[0,0,0],lc=[0,0,0],zc=0,Bc=[],Cc=[],Dc=()=>{G.viewport(0,0,C2.width=CC.width=window.innerWidth/2,C2.height=CC.height=window.innerHeight/2),Ac=9},Ec=(a,e,t)=>{Y.fillText(a,e,t),Y.strokeText(a,e,t)},Fc=(a,e,t)=>{let r=J(J(ua(lc),ta(.2)),dc);G.useProgram(e),G.uniformMatrix4fv(G.getUniformLocation(e,'a3'),!1,r),G.uniformMatrix4fv(G.getUniformLocation(e,'a2'),!1,a),e==ac?G.uniform3fv(G.getUniformLocation(e,'a0'),t):Tb(e),cc(bb,e)},Gc=Lb(),Hc=Lb();[document.body,CC].map((a=>{(a=a.style).overflow='hidden',a.margin=0,a.width='100%',a.height='100%',a.cursor='pointer'}));let Ic=0,Jc=0,Kc=Wa(),Lc=a=>{requestAnimationFrame(Lc),Jc=Jc||a;var e=Math.min(a-Jc,1e3),r=X;X=Wa(),$a(X,r),X.C=X.D=0;var o=document.pointerLockElement==CC?r:Wa();for(r=0,Ic+=e,Jc=a,$a(Kc,o);Ic>33;){r=1,Ic-=33,Gc=Hc;var i=Kc;(a=Mb(a=Hc,a,0)).I++,a.M++,0!=a.mode&&4!=a.mode&&5!=a.mode&&(a.v+=.005*i.C,a.pitch+=.005*i.D,a.pitch=Math.max(-1.57,Math.min(1.57,a.pitch)),0>a.v&&(a.v+=2*Math.PI),a.v>2*Math.PI&&(a.v-=2*Math.PI)),o=ya(J(I(a.v),H(-a.pitch)),[0,0,-1]);var n=!a.N&&i.s[0];a.N=i.s[0];var h=qb;if(3==a.mode&&(i.s.R||-1e3>a.g[1]))a.mode=4,a.I=0,a.A=0;else{if(0==a.mode)Xa&&(xb(Cb),a.mode=2);else if(1==a.mode||2==a.mode){a.i=A(a.i,[0,-.6,0],.5);for(var c=a.g,f=0;4>f;++f){c=A(c,a.i,.25);for(var l=0;h.length>l;++l){var m;(m=!(a.o.indexOf(l)>=0))&&(m=z(h[l],c),m=3600>F(m,m)),m&&(xb(Bb),a.o.push(l))}}a.o.length==h.length&&(a.I=0,a.mode=5),((1==a.mode||Nb)&&n||2==a.mode&&!Nb&&!i.s[0]&&a.A>0)&&(xb(Ab),--a.A,a.mode=3,a.i=A([0,0,0],o,30),a.L=0,Nb=!1),a.g=A(a.g,a.i,.5);let[e,t,r]=vb(a.g);10>r&&0>F(t,a.i)&&(a.g=A(e,t,10),a.i=pa(a.i,t,.2,.8))}else if(3==a.mode||4==a.mode||5==a.mode){if(a.i=t(a.i,[0,-.6,0]),3==a.mode){for(i=a.g,c=0;4>c;++c)for(i=A(i,a.i,.25),f=0;h.length>f;++f)(l=!(a.o.indexOf(f)>=0))&&(l=z(h[f],i),l=3600>F(l,l)),l&&(xb(Bb),a.o.push(f));a.o.length==h.length&&(a.I=0,a.mode=5),n&&(a.I=0,a.mode=a.A>0?2:4)}else a.I>30&&(5==a.mode?pb>a.level&&(xb(Cb),n=a.level+1,(a=Lb()).mode=1,a.level=n,a.A=tb[n]):(xb(Db),n=a.level,(a=Lb()).mode=1,a.level=n,a.A=tb[n]));a.g=t(a.g,a.i);let[e,r,o,m]=vb(a.g);10>o&&0>F(r,a.i)&&(a.M>10&&xb(zb),a.M=0,a.g=A(e,r,10),a.i=pa(a.i,r,2==m?.9:.2,.998),a.L=Math.sqrt(F(n=a.i,n))/10/33,a.O=aa(ka(ja(a.i,r))))}n=a,h=a.K;a:{for(o=aa(o),f=c=0,l=a.g;50>c&&100>f;++c){if(f+=i=sb(l)[1],.001>i){o=f;break a}l=A(l,o,i)}o=100}n.K=h+.5*(o-h)}Hc=a,Kc.C=Kc.D=0}for(r&&(Kc=Wa()),a=Kc,4!=(r=Mb(Gc,Hc,Ic/33)).mode&&5!=r.mode||(a.C=a.D=0),i=.005*a.C+r.v,c=Math.max(-1.5,Math.min(1.5,c=.005*a.D+r.pitch)),zc+=e,r.P?gc=500:gc>0?(ec+=.02*e*(c-ec),fc=ia(fc,i,.02*e),gc-=e):(ec=c,fc=i),a=ya(J(I(fc),H(-ec)),[0,0,-r.K]),jc=ha(jc,3==r.mode||4==r.mode||5==r.mode?[0,20,0]:[-20,30,0],.01*e),dc=J(va(r.O,r.L*e),dc),o=J(H(ec),I(-fc)),n=J(I(fc),H(-ec)),a=J(o,ua(z(a,t(r.g,ya(n,jc))))),n=[CC.height/CC.width,0,0,0,0,1,0,0,0,0,10000.1/-9999.9,-1,0,0,2e3/-9999.9,0],a=J(n,a),h=0,3!=r.mode&&4!=r.mode&&5!=r.mode||(lc=r.g,h=3==r.mode&&100>zc,Fc(a,Z,0)),1!=r.mode&&2!=r.mode||(hc+=.01*e*(c-hc),ic=ia(ic,i,.01*e),kc=r.g,h=1),(h||0==r.mode)&&(0==r.mode&&(ic=1,hc=-.5,kc=r.g),f=J(J(ua(kc),J(I(ic),H(-hc))),ta(.12)),G.useProgram(Z),G.uniformMatrix4fv(G.getUniformLocation(Z,'a3'),!1,f),G.uniformMatrix4fv(G.getUniformLocation(Z,'a2'),!1,a),Tb(Z),cc(hb,Z)),i=qb,c=0;i.length>c;++c)if(0>r.o.indexOf(c))f=J(J(ua(t(i[c],[0,10*Math.sin(zc/800),0])),ta(.25)),J(I(zc/1e3+c),H(.15))),G.useProgram(Z),G.uniformMatrix4fv(G.getUniformLocation(Z,'a3'),!1,f),G.uniformMatrix4fv(G.getUniformLocation(Z,'a2'),!1,a),Tb(Z),cc(jb,Z);else if(0>Bc.indexOf(c)){Bc.push(c),l=(f=Cc).push,m=i[c];var b=r.i;let a=[],e=0;for(let t=-100;150>t;t+=200)for(let r=-50;200>r;r+=200)for(let o=-100;150>o;o+=200)a.push({kind:e++,g:A(m,[t,r,o],.25),i:A(A([0,0,0],b,.8/33),[t,(r+100)/2,o],.001),offset:aa([t,r,o]),axis:ka([2*Math.random()-1,2*Math.random()-1,2*Math.random()-1]),ba:.01*Math.random(),rotation:xa});l.call(f,...a)}for(var u of Cc)i=-.6/33/33,u.rotation=J(va(u.axis,u.ba*e),u.rotation),u.i=A(u.i,[0,i,0],e),u.g=A(u.g,u.i,e),f=J(J(ua(u.g),ta(.25)),J(u.rotation,ua(u.offset))),G.useProgram(Z),G.uniformMatrix4fv(G.getUniformLocation(Z,'a3'),!1,f),G.uniformMatrix4fv(G.getUniformLocation(Z,'a2'),!1,a),Tb(Z),cc(kb[u.kind],Z);if(yc!=r.mode&&(yc=r.mode,1==yc&&(Bc=[],Cc=[],[[rb,sb],qb]=ob[r.level]()),zc=0),G.useProgram(Z),G.uniformMatrix4fv(G.getUniformLocation(Z,'a3'),!1,xa),G.uniformMatrix4fv(G.getUniformLocation(Z,'a2'),!1,a),G.uniform3fv(G.getUniformLocation(Z,'ag'),r.g),Tb(Z),cc(rb,Z),G.disable(2884),G.useProgram($b),G.uniformMatrix4fv(G.getUniformLocation($b,'aa'),!1,J(n,o)),cc(ab,$b),G.enable(2884),(1==r.mode||2==r.mode)&&h){var d;e=r.g,u=r.o,o=hc,h=ya(J(I(ic),H(-o)),[0,0,-1]),o=new Float32Array(900),n=qb,i=A([0,0,0],h,30);for(let a=0,r=0;150>a;++a){if(o[r++]=e[0],o[r++]=e[1],o[r++]=e[2],!d){for(i=t(i,[0,-.6,0]),c=e=t(e,i),f=0;4>f;++f)for(c=A(c,i,.25),l=0;n.length>l;++l)u.indexOf(l)>=0||(h=z(n[l],c),3600>F(h,h)&&(d=1));let[a,r,o]=vb(e);10>o&&0>F(r,i)&&(e=A(a,r,10),d=1)}o[r++]=e[0],o[r++]=e[1],o[r++]=e[2]}let[m,b]=[o,e];lc=b,G.bindBuffer(34962,Yb),G.bufferSubData(34962,0,m),G.useProgram(ac),G.uniformMatrix4fv(G.getUniformLocation(ac,'a3'),!1,xa),G.uniformMatrix4fv(G.getUniformLocation(ac,'a2'),!1,a),G.bindBuffer(34962,Yb),d=G.getAttribLocation(ac,'a1'),G.enableVertexAttribArray(d),G.vertexAttribPointer(d,3,5126,!1,0,0),G.bindBuffer(34963,Xb),G.drawElements(1,300,5123,0),Fc(a,ac,[0,1,.1])}Vb=0==r.mode||1==r.mode?Math.min((zc/1e3)**2,1):4==r.mode||5==r.mode?1-Math.min((zc/1e3)**2,1):1,(d=`${r.o.length}.${r.A}.${r.mode}`)!=Ac&&(Y.clearRect(0,0,C2.width,C2.height),Y.strokeStyle='#e56b70',Y.fillStyle='#ffdb63',Y.textAlign='center',0==r.mode?(Y.font='bold 64px sans-serif',Y.lineWidth=3,Ec('CANNONBOLF',C2.width/2,200),Y.font='bold 16px sans-serif',Y.lineWidth=.5,Ec('CLICK TO START',C2.width/2,C2.height-100)):4==r.mode||5==r.mode?(Y.font='bold 32px sans-serif',Y.lineWidth=2,Ec(4==r.mode?'SORRY, TRY AGAIN!':pb>r.level?r.A>0?'BIRDIE!':'PAR!':'THANKS FOR PLAYING!',C2.width/2,C2.height/2)):(Y.font='bold 32px sans-serif',Y.lineWidth=2,Y.textAlign='right',Ec(r.A+' ⚫',C2.width-20,C2.height-25-80),Ec(`${r.o.length}/${qb.length} 🏰`,C2.width-20,C2.height-25-40),Ec(`${r.level+1}/${pb+1} ⛳`,C2.width-20,C2.height-25),Y.textAlign='center',Y.font='bold 16px sans-serif',Y.lineWidth=.5,Ec(ub[r.level],C2.width/2,C2.height-20))),G.disable(2929),G.useProgram(bc),G.activeTexture(33984),G.bindTexture(3553,Ub),d!=Ac&&G.texImage2D(3553,0,6408,6408,5121,C2),G.uniform1i(G.getUniformLocation(bc,'a4'),0),G.uniform4f(G.getUniformLocation(bc,'a5'),C2.width,C2.height,Vb,~~(5==r.mode&&r.level==pb)),e=G.getAttribLocation(bc,'a1'),G.bindBuffer(34962,Wb),G.enableVertexAttribArray(e),G.vertexAttribPointer(e,2,5126,!1,0,0),G.drawArrays(4,0,6),G.enable(2929),Ac=d};window.onresize=Dc,Dc(),[[rb,sb],qb]=ob[0](),Lc(0);